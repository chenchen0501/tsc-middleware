# 变更日志 (Changelog)

本文档记录项目的所有重要变更。

版本格式遵循 [语义化版本](https://semver.org/lang/zh-CN/)，变更日志格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)。

---

## [3.0.0] - 2024-10-30

### 💥 破坏性变更

- **完全重构 API 接口**：移除旧的 type 1/2 模式，引入模板系统
- **删除 IP 参数**：所有接口不再支持 IP 地址，仅使用 USB 连接
- **废弃 macOS 支持**：仅支持 Windows 部署

### ✨ 新增

- **模板系统**：引入 5 种打印模板
  - `single-text` - 单行文本居中
  - `double-text` - 双行文本（每张纸两个标签）
  - `qrcode-with-text` - 二维码+文本
  - `barcode-with-text` - 条形码+文本
  - `custom` - 完全自定义布局
- **自定义布局**：支持完全控制元素位置和样式
- **批量打印**：所有模板支持批量打印
- **元素类型**：支持文本、二维码、条形码三种元素
- **开源化**：添加 MIT License、CONTRIBUTING.md、完善文档

### 🔄 变更

- **项目重命名**：从 `tsc-api` 改为 `TSC-Print-Middleware`
- **配置文件优化**：重新组织 config.py 结构
- **API 响应格式统一**：所有接口返回一致的 JSON 格式
- **文档全面更新**：重写 README.md 和 API.md

### 🗑️ 移除

- 移除所有 IP 相关参数和配置
- 移除 macOS 安装说明和环境配置
- 移除旧的 type 1/2 接口（使用模板系统代替）

### 🐛 修复

- 修复 USB 连接稳定性问题
- 优化中文字体渲染
- 改进错误处理和日志记录

---

## [2.x.x] - 历史版本

### 特性

- 支持 type 1（纯文本批量）和 type 2（二维码批量）
- IP 网络连接模式
- macOS 和 Windows 双平台支持

---

## 版本说明

### 主版本号 (Major)

当做了不兼容的 API 修改时递增

### 次版本号 (Minor)

当做了向下兼容的功能性新增时递增

### 修订号 (Patch)

当做了向下兼容的问题修正时递增

---

## 未来计划

### v3.1.0（计划中）

- [ ] 支持图片元素打印
- [ ] 添加更多预设模板
- [ ] 支持模板保存和复用
- [ ] 性能优化

### v3.2.0（计划中）

- [ ] Web 管理界面
- [ ] 打印任务队列
- [ ] 打印历史记录
- [ ] 统计和报表功能

### v4.0.0（远期规划）

- [ ] 支持多打印机管理
- [ ] 支持网络打印机
- [ ] 插件系统
- [ ] Docker 部署支持

---

## 贡献者

感谢所有为项目做出贡献的开发者！

---

**注**: 版本号格式为 `[主版本号.次版本号.修订号]`，日期格式为 `YYYY-MM-DD`
